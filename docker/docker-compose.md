# Write Docker Compose file

### üß© Step 1: Base Configration
```bash
  version: '3.9'           # ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶®‡ßá ‡¶∏‡¶∞‡ßç‡¶¨‡¶∂‡ßá‡¶∑ ‡¶∏‡ßç‡¶ü‡ßá‡¶¨‡¶≤ ‡¶≠‡¶æ‡¶∞‡ßç‡¶∏‡¶®‡ßá‡¶∞ ‡¶∏‡¶ô‡ßç‡¶ó‡ßá ‡¶∏‡¶æ‡¶Æ‡¶û‡ßç‡¶ú‡¶∏‡ßç‡¶Ø‡¶™‡ßÇ‡¶∞‡ßç‡¶£, ‡¶è‡¶¨‡¶Ç ‡¶è‡¶ü‡¶ø ‡¶®‡¶§‡ßÅ‡¶® ‡¶´‡¶ø‡¶ö‡¶æ‡¶∞‡¶ó‡ßÅ‡¶≤‡ßã ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶§‡ßá
  
  services:                # Docker Compose-‡¶è‡¶∞ ‡¶Æ‡ßÇ‡¶≤ ‡¶Ö‡¶Ç‡¶∂‡•§ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶ï‡ßã‡¶® ‡¶ï‡ßã‡¶® ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶á‡¶®‡¶æ‡¶∞ ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡¶¨‡ßá ‡¶è‡¶¨‡¶Ç ‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ï‡¶®‡¶´‡¶ø‡¶ó‡¶æ‡¶∞‡ßá‡¶∂‡¶® ‡¶ï‡ßÄ ‡¶π‡¶¨‡ßá ‡¶§‡¶æ ‡¶≤‡¶ø‡¶ñ‡¶ø‡•§
    
    web:                   # web ‡¶π‡¶≤‡ßã ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ‡•§
      image: nginx:latest
            # nginx:latest ‡¶Æ‡¶æ‡¶®‡ßá Docker Hub ‡¶•‡ßá‡¶ï‡ßá Nginx-‡¶è‡¶∞ ‡¶∏‡¶∞‡ßç‡¶¨‡¶∂‡ßá‡¶∑ ‡¶∏‡¶Ç‡¶∏‡ßç‡¶ï‡¶∞‡¶£ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ‡•§

      build: .
        # ‡¶è‡¶ñ‡¶æ‡¶®‡ßá build: Docker Compose-‡¶ï‡ßá ‡¶¨‡¶≤‡ßá ‡¶Ø‡ßá ‡¶è‡¶á ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø Docker image locally ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§
        # . (dot) ‡¶Æ‡¶æ‡¶®‡ßá ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶°‡¶ø‡¶∞‡ßá‡¶ï‡ßç‡¶ü‡¶∞‡¶ø, ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá docker-compose.yml ‡¶´‡¶æ‡¶á‡¶≤ ‡¶Ü‡¶õ‡ßá‡•§

      container_name: simple-html
          # ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶á‡¶®‡¶æ‡¶∞‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ

      ports:
        - "8080:80"
          # 8080 ‚Üí ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶≤‡ßã‡¶ï‡¶æ‡¶≤ ‡¶ï‡¶Æ‡ßç‡¶™‡¶ø‡¶â‡¶ü‡¶æ‡¶∞ ‡¶™‡ßã‡¶∞‡ßç‡¶ü | 80 ‚Üí ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶á‡¶®‡¶æ‡¶∞‡ßá‡¶∞ Nginx ‡¶™‡ßã‡¶∞‡ßç‡¶ü

      volumes:        
        - ./index.html:/usr/share/nginx/html/index.html:ro

            # ./index.html ‡¶≤‡ßã‡¶ï‡¶æ‡¶≤ ‡¶Æ‡ßá‡¶∂‡¶ø‡¶®‡ßá ‡¶Ø‡ßá index.html ‡¶´‡¶æ‡¶á‡¶≤ ‡¶Ü‡¶õ‡ßá ‡¶§‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡ßá‡¶∂ ‡¶ï‡¶∞‡¶õ‡ßá‡•§
            # /usr/share/nginx/html/index.html ‡¶è‡¶ü‡¶ø ‡¶π‡¶≤‡ßã Nginx ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞‡ßá‡¶∞ ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü ‡¶≤‡ßã‡¶ï‡ßá‡¶∂‡¶® ‡¶Ø‡ßá‡¶ñ‡¶æ‡¶®‡ßá HTML ‡¶´‡¶æ‡¶á‡¶≤ ‡¶∞‡¶æ‡¶ñ‡¶æ ‡¶π‡¶Ø‡¶º‡•§
            # :ro ‡¶Æ‡¶æ‡¶®‡ßá read-only‡•§ ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶á‡¶®‡¶æ‡¶∞ ‡¶´‡¶æ‡¶á‡¶≤‡¶ü‡¶ø ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶¨‡ßá ‡¶®‡¶æ‡•§

      networks:
        - webnet


      command: ["nginx", "-g", "daemon off;"]

      depends_on:
        - db
        # depends_on ‡¶π‡¶≤‡ßã Docker Compose-‡¶è‡¶∞ ‡¶è‡¶ï‡¶ü‡¶ø service dependency declaration‡•§
        # ‡¶è‡¶ü‡¶ø ‡¶¨‡¶≤‡ßá: "‡¶è‡¶á ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏ ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏‡¶ü‡¶ø ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶π‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶ï"‡•§
        # web ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏‡ßá‡¶∞ container ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá db ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏‡ßá‡¶∞ container start ‡¶π‡¶¨‡ßá‡•§

networks:
  webnet:
    driver: bridge
# networks: ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏ ‡¶ï‡ßã‡¶•‡¶æ‡¶Ø‡¶º ‡¶•‡¶æ‡¶ï‡¶¨‡ßá ‡¶§‡¶æ ‡¶®‡¶ø‡¶∞‡ßç‡¶ß‡¶æ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßá‡•§
# webnet: ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ ‡¶¨‡ßç‡¶∞‡¶ø‡¶ú ‡¶®‡ßá‡¶ü‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶ï ‡¶§‡ßà‡¶∞‡¶ø‡•§
# driver: bridge ‚Üí ‡¶è‡¶ü‡¶ø Docker-‡¶è‡¶∞ default network driver‡•§



  db:
    image: mysql:8
    container_name: laravel-db
    environment:
      MYSQL_ROOT_PASSWORD: root
      MYSQL_DATABASE: laravel
      MYSQL_USER: laravel
      MYSQL_PASSWORD: secret
    ports:
      - "3306:3306"
    networks:
      - webnet

# App Args

`
  services:
    app:
      build:
        context: .
        args:
          APP_ENV: development
      ports:
        - "9000:9000"
`

`
  FROM php:8.2-fpm
  ARG APP_ENV
  ENV APP_ENV=${APP_ENV}
  
  WORKDIR /var/www/html
  COPY . .
  
  RUN if [ "$APP_ENV" = "production" ]; then \
        composer install --no-dev --optimize-autoloader; \
      else \
        composer install; \
      fi
  
  CMD ["php-fpm"]
`







```
